#!/bin/bash

# Task 1: Extract PokÃ©mon Data
# Using only jq, awk, sed as required

INPUT_FILE="data.json"

# Check if file exists
if [[ ! -f "$INPUT_FILE" ]]; then
    echo "Error: $INPUT_FILE not found" >&2
    exit 1
fi

# Extract and format in one pipeline
jq -r '. | "\(.name)|\(.height)|\(.weight)|\(.types[0].type.name)"' "$INPUT_FILE" 2>/dev/null | \
awk -F'|' '{
    name = $1
    height = $2
    weight = $3
    type = $4
    
    # Convert height from decimeters to meters
    formatted_height = height / 10
    
    # Convert weight from hectograms to kilograms  
    formatted_weight = weight / 10
    
    # Format exactly as required
    printf "%s is of type %s, weighs %dkg, and is %.1fm tall.\n", 
           name, type, formatted_weight, formatted_height
}'
